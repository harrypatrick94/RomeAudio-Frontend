(this.webpackJsonpromeaudio=this.webpackJsonpromeaudio||[]).push([[0],{12:function(e,t,a){},128:function(e,t){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(52),c=a.n(r),l=a(9),i=a(10),s=a(1),u=a(3),m=a.n(u),g="https://rome-audio-backend.herokuapp.com",d=function(e,t,a,n){var o="".concat(g,"/user");return console.log("Savinggggg"),m.a.post(o,{song:e,authorName:t,trackName:a,userId:n})},f=function(e,t,a){var n="".concat(g,"/register");return m.a.post(n,{userName:e,email:t,password:a})},p=function(e,t){var a="".concat(g,"/signin");return m.a.post(a,{email:e,password:t})},v=function(){var e="".concat(g,"/user");return m.a.get(e)},h=function(e){return m.a.get("".concat(g,"/user/").concat(e))},E=function(e){return o.a.createElement("div",{className:"indivdualSongs"},0!==e?e.songs.map((function(t){return o.a.createElement("h1",{onClick:function(){return function(t){e.chooseSong(t),console.log("songgggg: ",t.trackName)}(t)}},t.trackName)})):o.a.createElement("h4",null,"Loading"))},b=a(72),w=a(53),S=a.n(w),y=a(54),x=a.n(y),N=a(55),k=a.n(N),O=a(56),j=a.n(O),I=a(57),L=a.n(I),C=a(58),A=a.n(C),F=a(59),B=a.n(F),T=a(60),P=a.n(T),z=a(61),M=a.n(z),R=a(62),H=a.n(R),D=a(63),q=a.n(D),U=a(64),J=a.n(U),W=a(65),G=a(66);function K(){var e=Object(W.a)(["\n  display: inline-block;\n  width: 40px;\n  height: 25px;\n  border-radius: 4px;\n  margin: 7px;\n  vertical-align: middle;\n  horizontal-align: right;\n\n\n"]);return K=function(){return e},e}var Q=function(e,t){switch(!0){case e&&t:return"#fdeeb7";case e&&!t:return"red";case!e&&t:return"#fdeeb7";default:return"#b5f6ff"}},V=function(e,t){switch(!0){case e&&t:return"inset -3px 3px rgba(88, 88, 88, 0.31)";case e&&!t:return"inset 3px -3px 3px rgba(88, 88, 88, 0.31)";case!e&&t:return"inset 3px -3px rgba(88, 88, 88, 0.31)";default:return"4px -4px 5px  rgba(10, 10, 10, 1)"}},X=function(e,t){switch(!0){case e&&t:return.5;case e&&!t:case!e&&t:default:return 1}},Y=function(e,t){switch(!0){case e&&t:case e&&!t:return"0px solid rgba(88, 88, 88, 0.31)";case!e&&t:return"8px solid rgba(20, 20, 20, 0.31)";default:return"8px solid rgba(20, 32, 32, 0.45)"}},Z=function(e,t){switch(!0){case e&&t:case e&&!t:return"0px solid rgba(88, 88, 88, 0.31)";case!e&&t:default:return"8px solid rgba(88, 88, 88, 0.31)"}},$=function(e,t){switch(!0){case e&&t:case e&&!t:return"8px solid rgba(20, 20, 20, 0.31)";case!e&&t:default:return"0px solid rgba(88, 88, 88, 0.31)"}},_=function(e,t){switch(!0){case e&&t:case e&&!t:return"8px solid rgba(88, 88, 88, 0.31)";case!e&&t:default:return"0px solid rgba(88, 88, 88, 0.31)"}},ee=G.a.span.attrs((function(e){var t=e.ready,a=e.play;return{style:{background:Q(t,a),opacity:X(t,a),boxShadow:V(t,a),borderLeft:Y(t,a),borderRight:$(t,a),borderTop:_(t,a),borderBottom:Z(t,a)}}}))(K()),te=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],ae=function(e){var t=e.sequence,a=e.drumMachine,n=e.toggleSound;return o.a.createElement("div",null,a.map((function(e){return o.a.createElement("div",{className:e},e,te.map((function(r){return o.a.createElement("span",{className:"step",onClick:function(){n(e,r)}},o.a.createElement(ee,{ready:t[a.indexOf(e)][r].ready,play:t[a.indexOf(e)][r].play}))})))})))},ne=function(e){return o.a.createElement("div",{onClick:function(){return e.togglePlay(),void console.log(e.playing)}},e.playing?"Stop":"Play")},oe=(a(12),function(e){var t=e.sequence,a=Object(n.useState)("Sik Trak"),r=Object(s.a)(a,2),c=r[0],l=r[1],i=Object(n.useState)("Haz"),u=Object(s.a)(i,2),m=u[0],g=u[1];return o.a.createElement("div",{className:"saveButton"},o.a.createElement("form",{onSubmit:function(){console.log("Da Beat: ",t),console.log("Killa name: ",c),console.log("Author: ",m),d(t,m,c,window.localStorage.getItem("userId")).then((function(e){console.log("ajax post successfulw: ",e)})).catch((function(e){console.warn(e)}))}},o.a.createElement("input",{type:"text",placeholder:"Trak Name",onChange:function(e){var t=e.target.value;l(t),console.log(t)}}),o.a.createElement("input",{type:"text",placeholder:"Author",onChange:function(e){var t=e.target.value;g(t),console.log(t)}}),o.a.createElement("input",{type:"submit"})))}),re=function(e){var t=e.changeBPM;return o.a.createElement("div",null,o.a.createElement("form",null,o.a.createElement("label",{className:"rangeLabel"},"BPM Range"),o.a.createElement("input",{type:"range",onChange:function(e){var a=e.target.value;t(a)},className:"rangeInput",min:"60",max:"180"})))},ce=a(38),le={play:!1,ready:!1},ie=["CP","CH","CR","BD","OH","RD","RS","SN","TA","TB","TC"],se=[new Array(16).fill(le),new Array(16).fill(le),new Array(16).fill(le),new Array(16).fill(le),new Array(16).fill(le),new Array(16).fill(le),new Array(16).fill(le),new Array(16).fill(le),new Array(16).fill(le),new Array(16).fill(le),new Array(16).fill(le)],ue=function(e){var t=Object(n.useState)("sounds"),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(se),u=Object(s.a)(i,2),m=u[0],g=u[1],d=Object(n.useState)(!1),f=Object(s.a)(d,2),p=f[0],v=f[1],h=Object(n.useState)(0),E=Object(s.a)(h,2),w=E[0],y=E[1],N=Object(n.useState)(120),O=Object(s.a)(N,2),I=O[0],C=O[1];return Object(n.useEffect)((function(){var t=new S.a.Players({CP:x.a,CH:k.a,CR:j.a,BD:L.a,OH:A.a,RD:B.a,RS:P.a,SN:M.a,TA:H.a,TB:q.a,TC:J.a},(function(){c(t)})).toMaster();null!==e.picked?(console.log(e.picked),console.log("propsss: ",e)):console.log("NULLLLLLL")}),[]),Object(n.useEffect)((function(){ce.isEmpty(e.currentSong)||g(e.currentSong);var t=setTimeout((function(){p&&(y((w+1)%16),function(e){for(var t=0;t<m.length;t++)for(var a=0;a<m[t].length;a++){var n=m[t][a],o=n.ready,c=n.play;m[t][a]={ready:o,play:a===e},o&&c&&r.get(ie[t]).start()}g(m)}(w))}),I);return function(){clearTimeout(t)}}),[w,p]),o.a.createElement("span",null,o.a.createElement("div",{className:"drumMachingBoard"},o.a.createElement(ae,{sequence:m,drumMachine:ie,toggleSound:function(e,t){var a=ie.indexOf(e),n=Object(b.a)(m),o=n[a][t],r=o.play,c=o.ready;n[a][t]={play:r,ready:!c},g(n),console.log("here")}})),o.a.createElement("div",{className:"gearBox"},o.a.createElement("div",{className:"playButton"},o.a.createElement(ne,{playing:p,togglePlay:function(){v(!p)}})),window.localStorage.getItem("token")?o.a.createElement("div",null,o.a.createElement("div",{className:"saveComponent"},o.a.createElement(oe,{sequence:m})),o.a.createElement("div",{className:"bpmRange"},o.a.createElement(re,{changeBPM:function(e){C(e),console.log("changing: ",I)}}))):o.a.createElement("div",null,o.a.createElement(l.b,{to:"/signin"},"Sign in to save tracks"))))},me=a(38),ge=function(e){var t=Object(n.useState)({}),a=Object(s.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)({}),i=Object(s.a)(l,2),u=i[0],g=i[1],d=Object(n.useState)(""),f=Object(s.a)(d,2),p=f[0],v=f[1];Object(n.useEffect)((function(){if(window.localStorage.getItem("token")){var t=window.localStorage.getItem("token");m.a.defaults.headers.common.Authorization=t}else console.log("token not here");!function(){var t=e.match.params.trackName;h(t).then((function(e){console.log("data returned: ",e.data);var a=e.data.beatz,n=e.data.userName;console.log(n),g(a),v(n),a.map((function(e){e.trackName===t&&(console.log("found: ",t),console.log("track name: ",e.trackName),console.log("Song sequence: ",e.song),c(e.song))}))})).catch((function(e){return console.warn("Song search error: ",e)}))}()}),[]);return o.a.createElement("div",null,me.isEmpty(r)?o.a.createElement("div",null,"Loading ..."):o.a.createElement("div",null,o.a.createElement("h4",null,"Welcome ",p),o.a.createElement("div",null,o.a.createElement(ue,{currentSong:r})),o.a.createElement("div",{className:"userSongs"},o.a.createElement(E,{songs:u,chooseSong:function(t){console.log("picked in state: ",t.song),e.history.push("/user/".concat(t.trackName))}}))))},de=function(e){var t=Object(n.useState)(void 0),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(void 0),u=Object(s.a)(i,2),g=u[0],d=u[1],v=Object(n.useState)(void 0),h=Object(s.a)(v,2),E=h[0],b=h[1];return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"registerForm"},o.a.createElement("form",{onSubmit:function(t){f(r,g,E).then((function(t){console.log("successfull sign up ",t),p(g,E).then((function(t){console.log("token created: ",t.data.token),window.localStorage.setItem("token",t.data.token),window.localStorage.setItem("userId",t.data.user.id),m.a.defaults.headers.common.Authorization=t.data.token,console.log("header in signin",m.a.defaults.headers.common.Authorization),e.history.push("/user")})).catch((function(e){console.warn(e)}))})).catch((function(e){console.warn(e)})),console.log("after"),c(void 0),d(void 0),b(void 0)}},o.a.createElement("ul",{className:"registerFormUl"},o.a.createElement("li",{className:"registerFormLi"},o.a.createElement("label",null,"User name")),o.a.createElement("li",{className:"registerFormLi"},o.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;c(t)}})),o.a.createElement("li",{className:"registerFormLi"},o.a.createElement("label",null,"Email")),o.a.createElement("li",{className:"registerFormLi"},o.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;d(t)}})),o.a.createElement("li",{className:"registerFormLi"},o.a.createElement("label",null,"password")),o.a.createElement("li",{className:"registerFormLi"},o.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;b(t)}})),o.a.createElement("li",{className:"registerFormLi"},o.a.createElement("input",{type:"submit"}),o.a.createElement(l.b,{to:"/signin"},"Sign in"))))))},fe=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),u=Object(s.a)(i,2),g=u[0],d=u[1];return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"signInForm"},o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),p(r,g).then((function(t){console.log("token created: ",t.data.token),window.localStorage.setItem("token",t.data.token),window.localStorage.setItem("userId",t.data.user.id),m.a.defaults.headers.common.Authorization=t.data.token,console.log("header in signin",m.a.defaults.headers.common.Authorization),e.history.push("/user")})).catch((function(e){console.warn(e)})),c(void 0),d(void 0)}},o.a.createElement("ul",{className:"signInFormUl"},o.a.createElement("li",{className:"signInFormLi"},o.a.createElement("label",null,"Email")),o.a.createElement("li",{className:"signInFormLi"},o.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;c(t)},value:""})),o.a.createElement("li",{className:"signInFormLi"},o.a.createElement("label",null,"Password")),o.a.createElement("li",{className:"signInFormLi"},o.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;d(t)},value:""})),o.a.createElement("li",{className:"signInFormLi"},o.a.createElement("input",{type:"submit"})," ",o.a.createElement(l.b,{to:"/register"},"Sign up"))))))},pe=a(71),ve=a.n(pe),he=function(e){return o.a.createElement("button",{className:"signOut",onClick:function(){console.log(e),window.localStorage.removeItem("token"),window.localStorage.removeItem("userId"),console.log(window.localStorage.getItem("token")),console.log(window.localStorage.removeItem("userId")),e.history.push("/signin")}},"Sign out")},Ee=function(e){var t=ve()("http://localhost:1337"),a=Object(n.useState)(void 0),r=Object(s.a)(a,2),c=r[0],l=r[1],i=Object(n.useState)(null),u=Object(s.a)(i,2),g=u[0],d=u[1];return Object(n.useEffect)((function(){if(window.localStorage.getItem("token")){var e=window.localStorage.getItem("token");m.a.defaults.headers.common.Authorization=e}else console.log("token not here");console.log("hook runnning"),v().then((function(e){l(e.data),console.log(e.data),t.on("ping",(function(e){console.log("PING",e)})),t.emit("save song",console.log(e.data))})).catch((function(e){return console.warn(e)}))}),[]),o.a.createElement("div",{className:"userHome"},void 0!==c?o.a.createElement("div",null,o.a.createElement("h4",null,"Welcome ",c.userName),o.a.createElement("div",{className:"drumMachineContainer"},o.a.createElement("div",{className:"drumMachine"},o.a.createElement(ue,{picked:g}),o.a.createElement("div",{className:"userSongs"},o.a.createElement(E,{songs:c.beatz,chooseSong:function(t){d(t),console.log("picked in state: ",g),e.history.push("/user/".concat(t.trackName))}}))))):o.a.createElement("h1",null,"Loading . . ."),o.a.createElement(he,e))};var be=document.getElementById("root");c.a.render(o.a.createElement((function(){return o.a.createElement("div",null,o.a.createElement(l.a,null,o.a.createElement(i.a,{exact:!0,path:"/",component:ue}),o.a.createElement(i.a,{exact:!0,path:"/register",component:de}),o.a.createElement(i.a,{exact:!0,path:"/signin",component:fe}),o.a.createElement(i.a,{exact:!0,path:"/user",component:Ee}),o.a.createElement(i.a,{exact:!0,path:"/user/:trackName",component:ge})))}),null),be)},54:function(e,t,a){e.exports=a.p+"static/media/909-clap.0eed7aa0.wav"},55:function(e,t,a){e.exports=a.p+"static/media/909-closedHat.854186b3.wav"},56:function(e,t,a){e.exports=a.p+"static/media/909-crash.399866ff.wav"},57:function(e,t,a){e.exports=a.p+"static/media/909-kick.56d0ab65.wav"},58:function(e,t,a){e.exports=a.p+"static/media/909-openHat.81fbfa57.wav"},59:function(e,t,a){e.exports=a.p+"static/media/909-ride.43395fea.wav"},60:function(e,t,a){e.exports=a.p+"static/media/909-rimShot.3c8134ae.wav"},61:function(e,t,a){e.exports=a.p+"static/media/909-snare.00182820.wav"},62:function(e,t,a){e.exports=a.p+"static/media/909-tom.87263f19.wav"},63:function(e,t,a){e.exports=a.p+"static/media/909-tomOne.a3465745.wav"},64:function(e,t,a){e.exports=a.p+"static/media/909-tomTwo.b91c45d6.wav"},74:function(e,t,a){e.exports=a(131)}},[[74,1,2]]]);
//# sourceMappingURL=main.635c407b.chunk.js.map