(this.webpackJsonpromeaudio=this.webpackJsonpromeaudio||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/909-clap.0eed7aa0.wav"},33:function(e,t,a){e.exports=a.p+"static/media/909-closedHat.854186b3.wav"},34:function(e,t,a){e.exports=a.p+"static/media/909-crash.399866ff.wav"},35:function(e,t,a){e.exports=a.p+"static/media/909-kick.56d0ab65.wav"},36:function(e,t,a){e.exports=a.p+"static/media/909-openHat.81fbfa57.wav"},37:function(e,t,a){e.exports=a.p+"static/media/909-ride.43395fea.wav"},38:function(e,t,a){e.exports=a.p+"static/media/909-rimShot.3c8134ae.wav"},39:function(e,t,a){e.exports=a.p+"static/media/909-snare.00182820.wav"},40:function(e,t,a){e.exports=a.p+"static/media/909-tom.87263f19.wav"},41:function(e,t,a){e.exports=a.p+"static/media/909-tomOne.a3465745.wav"},42:function(e,t,a){e.exports=a.p+"static/media/909-tomTwo.b91c45d6.wav"},51:function(e,t,a){e.exports=a(77)},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),o=a.n(c),l=a(9),i=a(10),s=a(1),u=a(3),m=a.n(u),d="https://rome-audio-backend.herokuapp.com",g=function(e,t,a,n){var r="".concat(d,"/user");return console.log("Savinggggg"),m.a.post(r,{song:e,authorName:t,trackName:a,userId:n})},p=function(e,t,a){var n="".concat(d,"/register");return m.a.post(n,{userName:e,email:t,password:a})},f=function(e,t){var a="".concat(d,"/signin");return m.a.post(a,{email:e,password:t})},v=function(){var e="".concat(d,"/user");return m.a.get(e)},E=function(e){return m.a.get("".concat(d,"/user/").concat(e))},h=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"indivdualSongs"},r.a.createElement("h1",{className:"yourTrakz"},"Your trakz"),0!==e?e.songs.map((function(t){return r.a.createElement("h1",{onClick:function(){return function(t){e.chooseSong(t),console.log("songgggg: ",t.trackName)}(t)}},t.trackName)})):r.a.createElement("h4",null,"Loading")))},b=(a(8),function(e){return r.a.createElement("button",{className:"signOut",onClick:function(){console.log(e),window.localStorage.removeItem("token"),window.localStorage.removeItem("userId"),console.log(window.localStorage.getItem("token")),console.log(window.localStorage.removeItem("userId")),e.history.push("/signin")}},"Sign out")}),w=a(49),N=a(31),S=a.n(N),y=a(32),x=a.n(y),O=a(33),k=a.n(O),j=a(34),I=a.n(j),C=a(35),A=a.n(C),L=a(36),B=a.n(L),F=a(37),T=a.n(F),P=a(38),z=a.n(P),M=a(39),R=a.n(M),D=a(40),H=a.n(D),U=a(41),q=a.n(U),J=a(42),W=a.n(J),G=a(43),K=a(44);function Y(){var e=Object(G.a)(["\n  display: inline-block;\n  width: 40px;\n  height: 25px;\n  border-radius: 4px;\n  margin: 7px;\n  vertical-align: middle;\n  horizontal-align: right;\n\n\n"]);return Y=function(){return e},e}var Q=function(e,t){switch(!0){case e&&t:return"#fdeeb7";case e&&!t:return"red";case!e&&t:return"#fdeeb7";default:return"#b5f6ff"}},V=function(e,t){switch(!0){case e&&t:return"inset -3px 3px rgba(88, 88, 88, 0.31)";case e&&!t:return"inset 3px -3px 3px rgba(88, 88, 88, 0.31)";case!e&&t:return"inset 3px -3px rgba(88, 88, 88, 0.31)";default:return"4px -4px 5px  rgba(10, 10, 10, 1)"}},X=function(e,t){switch(!0){case e&&t:return.5;case e&&!t:case!e&&t:default:return 1}},Z=function(e,t){switch(!0){case e&&t:case e&&!t:return"0px solid rgba(88, 88, 88, 0.31)";case!e&&t:return"8px solid rgba(20, 20, 20, 0.31)";default:return"8px solid rgba(20, 32, 32, 0.45)"}},$=function(e,t){switch(!0){case e&&t:case e&&!t:return"0px solid rgba(88, 88, 88, 0.31)";case!e&&t:default:return"8px solid rgba(88, 88, 88, 0.31)"}},_=function(e,t){switch(!0){case e&&t:case e&&!t:return"8px solid rgba(20, 20, 20, 0.31)";case!e&&t:default:return"0px solid rgba(88, 88, 88, 0.31)"}},ee=function(e,t){switch(!0){case e&&t:case e&&!t:return"8px solid rgba(88, 88, 88, 0.31)";case!e&&t:default:return"0px solid rgba(88, 88, 88, 0.31)"}},te=K.a.span.attrs((function(e){var t=e.ready,a=e.play;return{style:{background:Q(t,a),opacity:X(t,a),boxShadow:V(t,a),borderLeft:Z(t,a),borderRight:_(t,a),borderTop:ee(t,a),borderBottom:$(t,a)}}}))(Y()),ae=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],ne=function(e){var t=e.sequence,a=e.drumMachine,n=e.toggleSound;return r.a.createElement("div",null,a.map((function(e){return r.a.createElement("div",{className:e},e,ae.map((function(c){return r.a.createElement("span",{className:"step",onClick:function(){n(e,c)}},r.a.createElement(te,{ready:t[a.indexOf(e)][c].ready,play:t[a.indexOf(e)][c].play}))})))})))},re=function(e){return r.a.createElement("div",{onClick:function(){return e.togglePlay(),void console.log(e.playing)}},e.playing?"Stop":"Play")},ce=function(e){var t=e.sequence,a=Object(n.useState)("Sik Trak"),c=Object(s.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)("Haz"),u=Object(s.a)(i,2),m=u[0],d=u[1];return r.a.createElement("div",{className:"saveButton"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("Da Beat: ",t),console.log("Killa name: ",o),console.log("Author: ",m),g(t,m,o,window.localStorage.getItem("userId")).then((function(e){console.log("ajax post successfulw: ",e)})).catch((function(e){console.warn(e)}))}},r.a.createElement("input",{type:"text",placeholder:"Trak Name",className:"input",onChange:function(e){var t=e.target.value;l(t),console.log(t)}}),r.a.createElement("input",{type:"text",placeholder:"Author",className:"input",onChange:function(e){var t=e.target.value;d(t),console.log(t)}}),r.a.createElement("input",{type:"submit",className:"input"})))},oe=function(e){var t=e.changeBPM;return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("label",{className:"rangeLabel"},"BPM Range"),r.a.createElement("input",{type:"range",onChange:function(e){var a=e.target.value;t(a)},className:"rangeInput",min:"60",max:"180"})))},le=a(28),ie={play:!1,ready:!1},se=["CP","CH","CR","BD","OH","RD","RS","SN","TA","TB","TC"],ue=[new Array(16).fill(ie),new Array(16).fill(ie),new Array(16).fill(ie),new Array(16).fill(ie),new Array(16).fill(ie),new Array(16).fill(ie),new Array(16).fill(ie),new Array(16).fill(ie),new Array(16).fill(ie),new Array(16).fill(ie),new Array(16).fill(ie)],me=function(e){var t=Object(n.useState)("sounds"),a=Object(s.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(ue),u=Object(s.a)(i,2),m=u[0],d=u[1],g=Object(n.useState)(!1),p=Object(s.a)(g,2),f=p[0],v=p[1],E=Object(n.useState)(0),h=Object(s.a)(E,2),b=h[0],N=h[1],y=Object(n.useState)(120),O=Object(s.a)(y,2),j=O[0],C=O[1];return Object(n.useEffect)((function(){var t=new S.a.Players({CP:x.a,CH:k.a,CR:I.a,BD:A.a,OH:B.a,RD:T.a,RS:z.a,SN:R.a,TA:H.a,TB:q.a,TC:W.a},(function(){o(t)})).toMaster();e.picked}),[]),Object(n.useEffect)((function(){le.isEmpty(e.currentSong)||d(e.currentSong);var t=setTimeout((function(){f&&(N((b+1)%16),function(e){for(var t=0;t<m.length;t++)for(var a=0;a<m[t].length;a++){var n=m[t][a],r=n.ready,o=n.play;m[t][a]={ready:r,play:a===e},r&&o&&c.get(se[t]).start()}d(m)}(b))}),j);return function(){clearTimeout(t)}}),[b,f,e.currentSong]),r.a.createElement("span",null,r.a.createElement("div",{className:"drumMachingBoard"},r.a.createElement(ne,{sequence:m,drumMachine:se,toggleSound:function(e,t){var a=se.indexOf(e),n=Object(w.a)(m),r=n[a][t],c=r.play,o=r.ready;n[a][t]={play:c,ready:!o},d(n),console.log("here")}})),r.a.createElement("div",{className:"gearBox"},r.a.createElement("div",{className:"playButton"},r.a.createElement(re,{playing:f,togglePlay:function(){v(!f)}})),window.localStorage.getItem("token")?r.a.createElement("div",null,r.a.createElement("div",{className:"saveComponent"},r.a.createElement(ce,{sequence:m})),r.a.createElement("div",{className:"bpmRange"},r.a.createElement(oe,{changeBPM:function(e){C(e),console.log("changing: ",j)}}))):r.a.createElement("div",null,r.a.createElement(l.b,{to:"/signin"},"Sign in to save tracks"))))},de=a(28),ge=function(e){var t=Object(n.useState)({}),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)({}),i=Object(s.a)(l,2),u=i[0],d=i[1],g=Object(n.useState)(""),p=Object(s.a)(g,2),f=p[0],v=p[1];Object(n.useEffect)((function(){if(console.log("useEffect UPDATE SONG"),window.localStorage.getItem("token")){var t=window.localStorage.getItem("token");m.a.defaults.headers.common.Authorization=t}else console.log("token not here");!function(){var t=e.match.params.trackName;E(t).then((function(e){console.log("data returned: ",e.data);var a=e.data.beatz,n=e.data.userName;console.log(n),d(a),v(n);var r=a.find((function(e){return e.trackName===t}));console.log("found: ",r),o(r.song)})).catch((function(e){return console.warn("Song search error: ",e)}))}()}),[e.match.params.trackName]);return r.a.createElement("div",null,de.isEmpty(c)?r.a.createElement("div",null,"Loading ..."):r.a.createElement("div",null,r.a.createElement("h1",{className:"userName"},"Welcome ",f),r.a.createElement("div",null,r.a.createElement(me,{currentSong:c})),r.a.createElement("div",{className:"userSongs"},r.a.createElement(h,{songs:u,chooseSong:function(t){console.log("picked in state: ",t.song),e.history.push("/user/".concat(t.trackName))}}))),r.a.createElement(b,e))},pe=function(e){var t=Object(n.useState)(void 0),a=Object(s.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(void 0),u=Object(s.a)(i,2),d=u[0],g=u[1],v=Object(n.useState)(void 0),E=Object(s.a)(v,2),h=E[0],b=E[1];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"registerForm"},r.a.createElement("form",{onSubmit:function(t){p(c,d,h).then((function(t){console.log("successfull sign up ",t),f(d,h).then((function(t){window.localStorage.setItem("token",t.data.token),window.localStorage.setItem("userId",t.data.user.id),m.a.defaults.headers.common.Authorization=t.data.token,e.history.push("/user")})).catch((function(e){console.warn(e)}))})).catch((function(e){console.warn(e)})),o(void 0),g(void 0),b(void 0)}},r.a.createElement("ul",{className:"registerFormUl"},r.a.createElement("li",{className:"registerFormLi"},r.a.createElement("label",null,"User name")),r.a.createElement("li",{className:"registerFormLi"},r.a.createElement("input",{type:"text",className:"input",onChange:function(e){var t=e.target.value;o(t)}})),r.a.createElement("li",{className:"registerFormLi"},r.a.createElement("label",null,"Email")),r.a.createElement("li",{className:"registerFormLi"},r.a.createElement("input",{type:"text",className:"input",onChange:function(e){var t=e.target.value;g(t)}})),r.a.createElement("li",{className:"registerFormLi"},r.a.createElement("label",null,"password")),r.a.createElement("li",{className:"registerFormLi"},r.a.createElement("input",{type:"text",className:"input",onChange:function(e){var t=e.target.value;b(t)}})),r.a.createElement("li",null,r.a.createElement("input",{type:"submit",className:"signInUp"}),r.a.createElement(l.b,{to:"/signin"},"Sign in"))))))},fe=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),u=Object(s.a)(i,2),d=u[0],g=u[1];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"signInForm"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),f(c,d).then((function(t){window.localStorage.setItem("token",t.data.token),window.localStorage.setItem("userId",t.data.user.id),m.a.defaults.headers.common.Authorization=t.data.token,e.history.push("/user")})).catch((function(e){console.warn(e)})),o(void 0),g(void 0)}},r.a.createElement("ul",{className:"signInFormUl"},r.a.createElement("li",{className:"signInFormLi"},r.a.createElement("label",null,"Email")),r.a.createElement("li",{className:"signInFormLi"},r.a.createElement("input",{type:"text",className:"input",onChange:function(e){var t=e.target.value;o(t)}})),r.a.createElement("li",{className:"signInFormLi"},r.a.createElement("label",null,"Password")),r.a.createElement("li",{className:"signInFormLi"},r.a.createElement("input",{type:"text",className:"input",onChange:function(e){var t=e.target.value;g(t)}})),r.a.createElement("li",null,r.a.createElement("input",{type:"submit",className:"signInUp"})," ",r.a.createElement(l.b,{to:"/register"},"Sign up"))))))},ve=function(e){var t=Object(n.useState)(void 0),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(null),i=Object(s.a)(l,2),u=i[0],d=i[1];return Object(n.useEffect)((function(){if(window.localStorage.getItem("token")){var e=window.localStorage.getItem("token");m.a.defaults.headers.common.Authorization=e}v().then((function(e){o(e.data),console.log(e.data)})).catch((function(e){return console.warn(e)}))}),[]),r.a.createElement("div",{className:"userHome"},void 0!==c?r.a.createElement("div",null,r.a.createElement("h1",{className:"userName"},"Welcome ",c.userName),r.a.createElement("div",{className:"drumMachineContainer"},r.a.createElement("div",{className:"drumMachine"},r.a.createElement(me,{picked:u}),r.a.createElement("div",{className:"userSongs"},r.a.createElement(h,{songs:c.beatz,chooseSong:function(t){d(t),e.history.push("/user/".concat(t.trackName))}}))))):r.a.createElement("h1",null,"Loading . . ."),r.a.createElement(b,e))};var Ee=document.getElementById("root");o.a.render(r.a.createElement((function(){return r.a.createElement("div",null,r.a.createElement(l.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:me}),r.a.createElement(i.a,{exact:!0,path:"/register",component:pe}),r.a.createElement(i.a,{exact:!0,path:"/signin",component:fe}),r.a.createElement(i.a,{exact:!0,path:"/user",component:ve}),r.a.createElement(i.a,{exact:!0,path:"/user/:trackName",component:ge})))}),null),Ee)},8:function(e,t,a){}},[[51,1,2]]]);
//# sourceMappingURL=main.73589182.chunk.js.map