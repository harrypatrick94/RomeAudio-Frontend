(this.webpackJsonpromeaudio=this.webpackJsonpromeaudio||[]).push([[0],{10:function(e,a,t){},38:function(e,a,t){e.exports=t(64)},64:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(27),l=t.n(o),c=t(34),s=t(8),i=t(36),u=t(2),m=t(28),d=t.n(m),g=t(29),f=t(30);function p(){var e=Object(g.a)(["\n  display: inline-block;\n  width: 40px;\n  height: 25px;\n  border-radius: 4px;\n  margin: 10px;\n  vertical-align: middle;\n  horizontal-align: right;\n\n\n"]);return p=function(){return e},e}var v=function(e,a){switch(!0){case e&&a:return"white";case e&&!a:return"red";case!e&&a:return"white";default:return"rgba(130, 130, 130, 0.6)"}},E=function(e,a){switch(!0){case e&&a:return"inset -3px 3px rgba(88, 88, 88, 0.31)";case e&&!a:return"inset 3px -3px 3px rgba(88, 88, 88, 0.31)";case!e&&a:return"inset 3px -3px rgba(88, 88, 88, 0.31)";default:return"4px -4px 5px  rgba(10, 10, 10, 1)"}},h=function(e,a){switch(!0){case e&&a:return.5;case e&&!a:case!e&&a:default:return 1}},b=function(e,a){switch(!0){case e&&a:case e&&!a:return"0px solid rgba(88, 88, 88, 0.31)";case!e&&a:return"8px solid rgba(20, 20, 20, 0.31)";default:return"8px solid rgba(20, 32, 32, 0.45)"}},w=function(e,a){switch(!0){case e&&a:case e&&!a:return"0px solid rgba(88, 88, 88, 0.31)";case!e&&a:default:return"8px solid rgba(88, 88, 88, 0.31)"}},y=function(e,a){switch(!0){case e&&a:case e&&!a:return"8px solid rgba(20, 20, 20, 0.31)";case!e&&a:default:return"0px solid rgba(88, 88, 88, 0.31)"}},x=function(e,a){switch(!0){case e&&a:case e&&!a:return"8px solid rgba(88, 88, 88, 0.31)";case!e&&a:default:return"0px solid rgba(88, 88, 88, 0.31)"}},N=f.a.span.attrs((function(e){var a=e.ready,t=e.play;return{style:{background:v(a,t),opacity:h(a,t),boxShadow:E(a,t),borderLeft:b(a,t),borderRight:y(a,t),borderTop:x(a,t),borderBottom:w(a,t)}}}))(p()),S=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],O=function(e){var a=e.sequence,t=e.drumMachine,n=e.toggleSound;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",{className:e},e,S.map((function(o){return r.a.createElement("span",{className:"step",onClick:function(){n(e,o)}},r.a.createElement(N,{ready:a[t.indexOf(e)][o].ready,play:a[t.indexOf(e)][o].play}))})))})))},j=function(e){return r.a.createElement("div",{onClick:function(){return e.togglePlay(),void console.log(e.playing)}},e.playing?"Stop":"Play")},k=t(6),I=t.n(k),C="https://rome-audio-backend.herokuapp.com",A=function(e,a,t,n){var r="".concat(C,"/user");return console.log("Savinggggg"),I.a.post(r,{song:e,authorName:a,trackName:t,userId:n})},F=function(e,a,t){var n="".concat(C,"/register");return I.a.post(n,{userName:e,email:a,password:t})},L=function(e,a){var t="".concat(C,"/signin");return I.a.post(t,{email:e,password:a})},B=function(){var e="".concat(C,"/user");return I.a.get(e)},T=(t(10),function(e){var a=e.sequence,t=Object(n.useState)("Sik Trak"),o=Object(u.a)(t,2),l=o[0],c=o[1],s=Object(n.useState)("Haz"),i=Object(u.a)(s,2),m=i[0],d=i[1];return r.a.createElement("div",{className:"saveButton"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("Da Beat: ",a),console.log("Killa name: ",l),console.log("Author: ",m),A(a,m,l,window.localStorage.getItem("userId")).then((function(e){console.log("ajax post successfulw: ",e)})).catch((function(e){console.warn(e)}))}},r.a.createElement("input",{type:"text",placeholder:"Trak Name",onChange:function(e){var a=e.target.value;c(a),console.log(a)}}),r.a.createElement("input",{type:"text",placeholder:"Author",onChange:function(e){var a=e.target.value;d(a),console.log(a)}}),r.a.createElement("input",{type:"submit"})))}),P=function(e){var a=e.changeBPM;return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("label",{className:"rangeLabel"},"BPM Range"),r.a.createElement("input",{type:"range",onChange:function(e){var t=e.target.value;a(t)},className:"rangeInput",min:"60",max:"180"})))},M={play:!1,ready:!1},R=["CP","CH","CR","BD","OH","RD","RS","SN","TA","TB","TC"],H=[new Array(16).fill(M),new Array(16).fill(M),new Array(16).fill(M),new Array(16).fill(M),new Array(16).fill(M),new Array(16).fill(M),new Array(16).fill(M),new Array(16).fill(M),new Array(16).fill(M),new Array(16).fill(M),new Array(16).fill(M)],D=function(e){var a=Object(n.useState)("sounds"),t=Object(u.a)(a,2),o=t[0],l=t[1],c=Object(n.useState)(H),s=Object(u.a)(c,2),m=s[0],g=s[1],f=Object(n.useState)(!1),p=Object(u.a)(f,2),v=p[0],E=p[1],h=Object(n.useState)(0),b=Object(u.a)(h,2),w=b[0],y=b[1],x=Object(n.useState)(120),N=Object(u.a)(x,2),S=N[0],k=N[1];return Object(n.useEffect)((function(){var e=new d.a.Players({CP:"/sounds/909-sounds/909-clap.wav",CH:"/sounds/909-sounds/909-closedHat.wav",CR:"/sounds/909-sounds/909-crash.wav",BD:"/sounds/909-sounds/909-kick.wav",OH:"/sounds/909-sounds/909-openHat.wav",RD:"/sounds/909-sounds/909-ride.wav",RS:"/sounds/909-sounds/909-rimShot.wav",SN:"/sounds/909-sounds/909-snare.wav",TA:"/sounds/909-sounds/909-tom.wav",TB:"/sounds/909-sounds/909-tomOne.wav",TC:"/sounds/909-sounds/909-tomTwo.wav"},(function(){l(e)})).toMaster();g(H)}),[]),Object(n.useEffect)((function(){var e=setTimeout((function(){v&&(y((w+1)%16),function(e){for(var a=0;a<m.length;a++)for(var t=0;t<m[a].length;t++){var n=m[a][t],r=n.ready,l=n.play;m[a][t]={ready:r,play:t===e},r&&l&&o.get(R[a]).start()}g(m)}(w))}),S);return function(){clearTimeout(e)}}),[w,v]),r.a.createElement("div",null,r.a.createElement("div",{className:"drumMachingBoard"},r.a.createElement(O,{sequence:m,drumMachine:R,toggleSound:function(e,a){var t=R.indexOf(e),n=Object(i.a)(m),r=n[t][a],o=r.play,l=r.ready;n[t][a]={play:o,ready:!l},g(n),console.log("herererererererererere")}})),r.a.createElement("div",{className:"gearBox"},r.a.createElement("div",{className:"playButton"},r.a.createElement(j,{playing:v,togglePlay:function(){E(!v)}})),window.localStorage.getItem("token")?r.a.createElement("div",{className:"saveComponent"},r.a.createElement(T,{sequence:m})):r.a.createElement("span",null),r.a.createElement("div",{className:"bpmRange"},r.a.createElement(P,{changeBPM:function(e){k(e),console.log("changing: ",S)}}))))},z=void 0,q=function(){var e=Object(n.useState)(void 0),a=Object(u.a)(e,2),t=a[0],o=a[1],l=Object(n.useState)(void 0),c=Object(u.a)(l,2),s=c[0],i=c[1],m=Object(n.useState)(void 0),d=Object(u.a)(m,2),g=d[0],f=d[1];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"registerForm"},r.a.createElement("form",{onSubmit:function(e){F(t,s,g).then((function(e){console.log("successfull sign up ",e),z.$emit(e.data)})).catch((function(e){console.warn(e)})),o(void 0),i(void 0),f(void 0)}},r.a.createElement("ul",{className:"registerFormUl"},r.a.createElement("li",{className:"registerFormLi"},r.a.createElement("label",null,"User name")),r.a.createElement("li",{className:"registerFormLi"},r.a.createElement("input",{type:"text",onChange:function(e){var a=e.target.value;o(a)}})),r.a.createElement("li",{className:"registerFormLi"},r.a.createElement("label",null,"Email")),r.a.createElement("li",{className:"registerFormLi"},r.a.createElement("input",{type:"text",onChange:function(e){var a=e.target.value;i(a)}})),r.a.createElement("li",{className:"registerFormLi"},r.a.createElement("label",null,"password")),r.a.createElement("li",{className:"registerFormLi"},r.a.createElement("input",{type:"text",onChange:function(e){var a=e.target.value;f(a)}})),r.a.createElement("li",{className:"registerFormLi"},r.a.createElement("input",{type:"submit"}))))))},U=function(e){var a=Object(n.useState)("harry@gmail.com"),t=Object(u.a)(a,2),o=t[0],l=t[1],c=Object(n.useState)("123456"),s=Object(u.a)(c,2),i=s[0],m=s[1];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"signInForm"},r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),L(o,i).then((function(a){console.log("token created: ",a.data.token),window.localStorage.setItem("token",a.data.token),window.localStorage.setItem("userId",a.data.user.id),I.a.defaults.headers.common.Authorization=a.data.token,console.log("header in signin",I.a.defaults.headers.common.Authorization),e.history.push("/user")})).catch((function(e){console.warn(e)})),l(void 0),m(void 0)}},r.a.createElement("ul",{className:"signInFormUl"},r.a.createElement("li",{className:"signInFormLi"},r.a.createElement("label",null,"Email")),r.a.createElement("li",{className:"signInFormLi"},r.a.createElement("input",{type:"text",onChange:function(e){var a=e.target.value;l(a)},value:"harry@gmail.com"})),r.a.createElement("li",{className:"signInFormLi"},r.a.createElement("label",null,"Password")),r.a.createElement("li",{className:"signInFormLi"},r.a.createElement("input",{type:"text",onChange:function(e){var a=e.target.value;m(a)},value:"123456"})),r.a.createElement("li",{className:"signInFormLi"},r.a.createElement("input",{type:"submit"}))))))},J=function(e){return r.a.createElement("button",{className:"signOut",onClick:function(){console.log(e),window.localStorage.removeItem("token"),window.localStorage.removeItem("userId"),console.log(window.localStorage.getItem("token")),console.log(window.localStorage.removeItem("userId")),e.history.push("/signin")}},"Sign out")},K=function(e){return console.log(e),r.a.createElement("div",{className:"userSongs"},0!==e?e.songs.map((function(e){return r.a.createElement("h1",null,e.trackName)})):r.a.createElement("h4",null,"Loading"))},$=function(e){var a=Object(n.useState)(void 0),t=Object(u.a)(a,2),o=t[0],l=t[1];return Object(n.useEffect)((function(){if(window.localStorage.getItem("token")){var e=window.localStorage.getItem("token");I.a.defaults.headers.common.Authorization=e}else console.log("token not here");console.log("hook runnning"),B().then((function(e){l(e.data),console.log(e.data)})).catch((function(e){return console.warn(e)}))}),[]),r.a.createElement("div",{className:"userHome"},void 0!==o?r.a.createElement("div",null,r.a.createElement("h1",null,o.userName),r.a.createElement("h4",null,o.email),r.a.createElement("div",{className:"drumMachineContainer"},r.a.createElement("div",{className:"drumMachine"},r.a.createElement(D,null))),r.a.createElement("div",{className:"userSongs"},r.a.createElement(K,{songs:o.beatz}))):r.a.createElement("h1",null,"Loading . . ."),r.a.createElement(J,e))};var G=document.getElementById("root");l.a.render(r.a.createElement((function(){return r.a.createElement("div",null,r.a.createElement(c.a,null,r.a.createElement(s.a,{exact:!0,path:"/",component:D}),r.a.createElement(s.a,{exact:!0,path:"/register",component:q}),r.a.createElement(s.a,{exact:!0,path:"/signin",component:U}),r.a.createElement(s.a,{exact:!0,path:"/user",component:$})))}),null),G)}},[[38,1,2]]]);
//# sourceMappingURL=main.998f5b02.chunk.js.map