(this.webpackJsonpromeaudio=this.webpackJsonpromeaudio||[]).push([[0],{13:function(e,t,a){},40:function(e,t,a){e.exports=a(66)},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),c=a.n(o),l=a(10),u=a(8),s=a(1),i=a(6),m=a.n(i),d="http://localhost:1337",g=function(e,t,a,n){var r="".concat(d,"/user");return console.log("Savinggggg"),m.a.post(r,{song:e,authorName:t,trackName:a,userId:n})},f=function(e,t,a){var n="".concat(d,"/register");return m.a.post(n,{userName:e,email:t,password:a})},p=function(e,t){var a="".concat(d,"/signin");return m.a.post(a,{email:e,password:t})},v=function(){var e="".concat(d,"/user");return m.a.get(e)},h=function(e){return m.a.get("".concat(d,"/songs"),e)},E=function(e){return m.a.get("".concat(d,"/drum-machine/").concat(e))},b=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){h(window.localStorage.getItem("userId")).then((function(e){console.log("data returned: ",e.data),o(e.data),console.log("Songs in state: ",a)})).catch((function(e){return console.warn("Song search error: ",e)}))}),[]),console.log(a),r.a.createElement("div",null,a.length>0?r.a.createElement("div",null,r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",null,r.a.createElement(l.b,{to:"/drum-machine/".concat(e.trackName)},e.trackName))})))):r.a.createElement("div",null,"Loading . . ."))},w=a(38),y=a(15),S=a.n(y),O=a(33),x=a(34);function j(){var e=Object(O.a)(["\n  display: inline-block;\n  width: 40px;\n  height: 25px;\n  border-radius: 4px;\n  margin: 10px;\n  vertical-align: middle;\n  horizontal-align: right;\n\n\n"]);return j=function(){return e},e}var k=function(e,t){switch(!0){case e&&t:return"white";case e&&!t:return"red";case!e&&t:return"white";default:return"rgba(130, 130, 130, 0.6)"}},N=function(e,t){switch(!0){case e&&t:return"inset -3px 3px rgba(88, 88, 88, 0.31)";case e&&!t:return"inset 3px -3px 3px rgba(88, 88, 88, 0.31)";case!e&&t:return"inset 3px -3px rgba(88, 88, 88, 0.31)";default:return"4px -4px 5px  rgba(10, 10, 10, 1)"}},C=function(e,t){switch(!0){case e&&t:return.5;case e&&!t:case!e&&t:default:return 1}},I=function(e,t){switch(!0){case e&&t:case e&&!t:return"0px solid rgba(88, 88, 88, 0.31)";case!e&&t:return"8px solid rgba(20, 20, 20, 0.31)";default:return"8px solid rgba(20, 32, 32, 0.45)"}},A=function(e,t){switch(!0){case e&&t:case e&&!t:return"0px solid rgba(88, 88, 88, 0.31)";case!e&&t:default:return"8px solid rgba(88, 88, 88, 0.31)"}},B=function(e,t){switch(!0){case e&&t:case e&&!t:return"8px solid rgba(20, 20, 20, 0.31)";case!e&&t:default:return"0px solid rgba(88, 88, 88, 0.31)"}},T=function(e,t){switch(!0){case e&&t:case e&&!t:return"8px solid rgba(88, 88, 88, 0.31)";case!e&&t:default:return"0px solid rgba(88, 88, 88, 0.31)"}},R=x.a.span.attrs((function(e){var t=e.ready,a=e.play;return{style:{background:k(t,a),opacity:C(t,a),boxShadow:N(t,a),borderLeft:I(t,a),borderRight:B(t,a),borderTop:T(t,a),borderBottom:A(t,a)}}}))(j()),H=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],M=function(e){var t=e.sequence,a=e.drumMachine,n=e.toggleSound;return r.a.createElement("div",null,a.map((function(e){return r.a.createElement("div",{className:e},e,H.map((function(o){return r.a.createElement("span",{className:"step",onClick:function(){n(e,o)}},r.a.createElement(R,{ready:t[a.indexOf(e)][o].ready,play:t[a.indexOf(e)][o].play}))})))})))},P=function(e){return r.a.createElement("div",{onClick:function(){return e.togglePlay(),void console.log(e.playing)}},e.playing?"Stop":"Play")},D=(a(13),function(e){var t=e.sequence,a=Object(n.useState)("Sik Trak"),o=Object(s.a)(a,2),c=o[0],l=o[1],u=Object(n.useState)("Haz"),i=Object(s.a)(u,2),m=i[0],d=i[1];return r.a.createElement("div",{className:"saveButton"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("Da Beat: ",t),console.log("Killa name: ",c),console.log("Author: ",m),g(t,m,c,window.localStorage.getItem("userId")).then((function(e){console.log("ajax post successfulw: ",e)})).catch((function(e){console.warn(e)}))}},r.a.createElement("input",{type:"text",placeholder:"Trak Name",onChange:function(e){var t=e.target.value;l(t),console.log(t)}}),r.a.createElement("input",{type:"text",placeholder:"Author",onChange:function(e){var t=e.target.value;d(t),console.log(t)}}),r.a.createElement("input",{type:"submit"})))}),L=function(e){var t=e.changeBPM;return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("label",{className:"rangeLabel"},"BPM Range"),r.a.createElement("input",{type:"range",onChange:function(e){var a=e.target.value;t(a)},className:"rangeInput",min:"60",max:"180"})))},q=a(30),z={play:!1,ready:!1},J=["CP","CH","CR","BD","OH","RD","RS","SN","TA","TB","TC"],F=[new Array(16).fill(z),new Array(16).fill(z),new Array(16).fill(z),new Array(16).fill(z),new Array(16).fill(z),new Array(16).fill(z),new Array(16).fill(z),new Array(16).fill(z),new Array(16).fill(z),new Array(16).fill(z),new Array(16).fill(z)],G=function(e){var t=Object(n.useState)("sounds"),a=Object(s.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(F),u=Object(s.a)(l,2),i=u[0],m=u[1],d=Object(n.useState)(!1),g=Object(s.a)(d,2),f=g[0],p=g[1],v=Object(n.useState)(0),h=Object(s.a)(v,2),E=h[0],b=h[1],y=Object(n.useState)(120),O=Object(s.a)(y,2),x=O[0],j=O[1];return Object(n.useEffect)((function(){var e=new S.a.Players({CP:"/sounds/909-sounds/909-clap.wav",CH:"/sounds/909-sounds/909-closedHat.wav",CR:"/sounds/909-sounds/909-crash.wav",BD:"/sounds/909-sounds/909-kick.wav",OH:"/sounds/909-sounds/909-openHat.wav",RD:"/sounds/909-sounds/909-ride.wav",RS:"/sounds/909-sounds/909-rimShot.wav",SN:"/sounds/909-sounds/909-snare.wav",TA:"/sounds/909-sounds/909-tom.wav",TB:"/sounds/909-sounds/909-tomOne.wav",TC:"/sounds/909-sounds/909-tomOne.wav"},(function(){c(e)})).toMaster()}),[]),Object(n.useEffect)((function(){q.isEmpty(e.currentSong)||m(e.currentSong);var t=setTimeout((function(){f&&(b((E+1)%16),function(e){for(var t=0;t<i.length;t++)for(var a=0;a<i[t].length;a++){var n=i[t][a],r=n.ready,c=n.play;i[t][a]={ready:r,play:a===e},r&&c&&o.get(J[t]).start()}m(i)}(E))}),x);return function(){clearTimeout(t)}}),[E,f]),r.a.createElement("div",null,r.a.createElement("div",{className:"drumMachingBoard"},r.a.createElement(M,{sequence:i,drumMachine:J,toggleSound:function(e,t){var a=J.indexOf(e),n=Object(w.a)(i),r=n[a][t],o=r.play,c=r.ready;n[a][t]={play:o,ready:!c},m(n),console.log("herererererererererere")}})),r.a.createElement("div",{className:"gearBox"},r.a.createElement("div",{className:"playButton"},r.a.createElement(P,{playing:f,togglePlay:function(){p(!f)}})),window.localStorage.getItem("token")?r.a.createElement("div",{className:"saveComponent"},r.a.createElement(D,{sequence:i})):r.a.createElement("span",null),r.a.createElement("div",{className:"bpmRange"},r.a.createElement(L,{changeBPM:function(e){j(e),console.log("changing: ",x)}}))))},K=a(30),U=function(e){var t=Object(n.useState)({}),a=Object(s.a)(t,2),o=a[0],c=a[1];return Object(n.useEffect)((function(){console.log(e.match.params.trackName),E(e.match.params.trackName).then((function(e){console.log("data returned: ",e.data),c(e.data)})).catch((function(e){return console.warn("Song search error: ",e)}))}),[]),r.a.createElement("div",null,K.isEmpty(o)?r.a.createElement("div",null,"Loading ..."):r.a.createElement("div",null,"Your Track is here ",r.a.createElement("h1",null,"RIGHT HERE"),r.a.createElement(G,{currentSong:o.sequence})))},Y=void 0,$=function(){var e=Object(n.useState)(void 0),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(void 0),l=Object(s.a)(c,2),u=l[0],i=l[1],m=Object(n.useState)(void 0),d=Object(s.a)(m,2),g=d[0],p=d[1];return r.a.createElement("div",{className:"registerForm"},r.a.createElement("form",{onSubmit:function(e){f(a,u,g).then((function(e){console.log("successfull sign up ",e),Y.$emit(e.data)})).catch((function(e){console.warn(e)})),o(void 0),i(void 0),p(void 0)}},r.a.createElement("label",null,"User name:"),r.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;o(t)}}),r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;i(t)}}),r.a.createElement("label",null,"password:"),r.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;p(t)}}),r.a.createElement("input",{type:"submit"})))},Q=function(e){var t=Object(n.useState)("Joely@gmail.com"),a=Object(s.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)("abc123"),u=Object(s.a)(l,2),i=u[0],d=u[1];return r.a.createElement("div",{className:"signInForm"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),p(o,i).then((function(t){console.log("successfull sign in: ",t),console.log("token: ",t.data.token),window.localStorage.setItem("token",t.data.token),window.localStorage.setItem("userId",t.data.user.id),m.a.defaults.headers.common.Authorization=t.data.token,console.log("header in signin",m.a.defaults.headers.common.Authorization),e.history.push("/user")})).catch((function(e){console.warn(e)})),c(void 0),d(void 0)}},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;c(t)},value:"harry@gamil.com"}),r.a.createElement("label",null,"password:"),r.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;d(t)},value:"abc123"}),r.a.createElement("input",{type:"submit"})))},V=function(e){return r.a.createElement("button",{className:"signOut",onClick:function(){console.log(e),window.localStorage.removeItem("token"),window.localStorage.removeItem("userId"),console.log(window.localStorage.getItem("token")),console.log(window.localStorage.removeItem("userId")),e.history.push("/signin")}},"Sign out")},W=function(e){return console.log(e),r.a.createElement("div",{className:"userSongs"},0!==e?e.songs.map((function(e){return r.a.createElement("h1",null,e.trackName)})):r.a.createElement("h4",null,"Loading"))},X=function(e){var t=Object(n.useState)(void 0),a=Object(s.a)(t,2),o=a[0],c=a[1];return Object(n.useEffect)((function(){v().then((function(e){c(e.data),console.log(e.data)})).catch((function(e){return console.warn(e)}))}),[]),r.a.createElement("div",{className:"userHome"},void 0!==o?r.a.createElement("div",null,r.a.createElement("h1",null,o.userName),r.a.createElement("h4",null,o.email),r.a.createElement("div",{className:"drumMachineContainer"},r.a.createElement("div",{className:"drumMachine"},r.a.createElement(G,null))),r.a.createElement("div",{className:"userSongs"},r.a.createElement(W,{songs:o.beatz}))):r.a.createElement("h1",null,"Loading . . ."),r.a.createElement(V,e))};var Z=document.getElementById("root");c.a.render(r.a.createElement((function(e){return Object(n.useEffect)((function(){window.localStorage.getItem("token")?console.log("token: ",window.localStorage.getItem("token")):console.log("token not here")}),[]),r.a.createElement("div",null,r.a.createElement(l.a,null,r.a.createElement(u.a,{exact:!0,path:"/",component:G}),r.a.createElement(u.a,{exact:!0,path:"/drum-machine/:trackName",component:U}),r.a.createElement(u.a,{exact:!0,path:"/songs",component:b}),r.a.createElement(u.a,{exact:!0,path:"/register",component:$}),r.a.createElement(u.a,{exact:!0,path:"/signin",component:Q}),r.a.createElement(u.a,{exact:!0,path:"/user",component:X})))}),null),Z)}},[[40,1,2]]]);
//# sourceMappingURL=main.36274408.chunk.js.map